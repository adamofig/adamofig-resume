<div class="row">
  <div class="col s12 m12 l12" style="background-color:#ffffff;">
    <div class="animated fadeIn" style="padding-left: 15px; padding-right: 15px;">
      <h5 class="center red-text text-darken-2">Portafol<span onclick="finishGranted()">io</span> </h5>

      <h6><span class="red-text text-darken-3">
          High impact projects where I was in charge, code is required for details due to sensitive information,
          request me via email
        </span></h6>
      <br>
      <div id="grantedForm" style="padding-left: 15px; padding-right: 15px;">
        <div class="row">
          <div class="col s6">
            <input id="permission" type="password" placeholder="Write the auth code" onkeyup="grantAccess(event)">
          </div>
          <div class="col s6">
            <a onclick="grantAccess()" class="waves-effect waves-light btn red darken-4 btn-small"> Authorize </a>
          </div>
        </div>
      </div>
      <!-- Aqui Esta la lista de proyectos-->

      <div class="row">
        <div class="col s4">
          <img max-width="800px" class="materialboxed responsive-img full-padding"
            src="../img/portafolio/siniestros.png" alt="">

        </div>
        <div class="col s8">
          <h5> <a onclick="openData('machineLearning')" class="pointer">Machine Learning</a> </h5>
          <p>

            First machine learning project for the company where I was a consultant.
            It can predict insurance claims, classified for add business value, car theft, collision, social
            responsibility. it response questions like where and when claims are going to happen, however is not only
            the model but using web services, scheduler pipelines for retraining models, and user web app development.
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col s4">
          <img max-width="800px" class="materialboxed responsive-img full-padding"
            src="../img/portafolio/datastudio.png" alt="">
        </div>
        <div class="col s8">
          <h5> <a onclick="openData('miselanea')" class="pointer">Miselanea</a> </h5>
          <p>
            * Tableros
            * Limpieza de datos
            * Creación de queries
            * Corrección de aplicaciones
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col s4">
          <img class="coverImg materialboxed responsive-img full-padding" src="../img/portafolio/etl.png" alt="">

        </div>
        <div class="col s8">
          <h5> <a onclick="openData('etlExpres')" class="pointer">ETL Exprés</a> </h5>

          <p>
            Que pasa cuando se requiere tener la información en el datawerehousing, consultas autogestionadas, y los
            sitemas
            actuales
            no pueden conectar mediante proxy, cloud sql, firebase y o spanner, además de el el usuario quien decide que
            bae
            exportar,
            estos son los problemas que resuelve el ETL exprés
          </p>
        </div>
      </div>


      <div class="row">
        <div class="col s4">
          <img class="coverImg materialboxed responsive-img full-padding" src="../img/portafolio/gcptable.png" alt="">

        </div>
        <div class="col s8">
          <h5> <a onclick="openData('gcpArchitecting')" class="pointer">Arquitecturas GCP</a> </h5>
          <p>
            Propuestas para solucionar diferentes problemas.
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col s4">
          <img max-width="800px" class="materialboxed responsive-img full-padding" src="../img/portafolio/memoria.png"
            alt="">

        </div>
        <div class="col s8">
          <h5> <a onclick="openData('memoriaInstitucional')" class="pointer">Memoria Institucional</a> </h5>
          <p>Aplicación utilizada internamente para guardar archivos con reglas de negocio y accesos bastante robustas
          </p>
        </div>
      </div>



      <div class="row">
        <div class="col s4">
          <img max-width="800px" class="materialboxed responsive-img full-padding"
            src="../img/portafolio/mapaSiniestros.png" alt="">
        </div>
        <div class="col s8">
          <h5> <a onclick="openData('unityAutos')" class="pointer">Unity 3D Autos</a> </h5>
          <p> Tablero en tiempo real y en 3D con predicciones de movimentos y calculos de tiempos.
          </p>
        </div>
      </div>








    </div>

  </div>
</div>


<script>

  function openModal(htmlDescription) {
    $("#content-modal").html(htmlDescription);
    $('#globalModal').modal('open');
  }


  function openData(slideTitle) {

    isGrantedAcessCV = sessionStorage.getItem("isGrantedAcessCV");
    console.log("isGrantedAcessCV", isGrantedAcessCV)

    if (isGrantedAcessCV == "true") {
      console.log("Ya tengo acceso");
    } else {

      console.log("No tengo acceso al proyecto");
      alert("Requiere un código para autorizar la información del proyecto");
      return;
    }

    let iframeSlide = null;
    if (slideTitle == "etlExpres") {
      iframeSlide = `<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vTXwO1amP1wLTNSeiZuCw_5sDTc8UMMs1T80nooACMo-8fdJ7R6NnfwUO-3sAGgG0kpf_ssSjakTFUv/embed?start=false&loop=false&delayms=3000"
        frameborder="0" width="100%" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>`;

    } else if (slideTitle == "unityAutos") {
      iframeSlide = "Sin presentación" + slideTitle;

    } else if (slideTitle == "memoriaInstitucional") {
      iframeSlide = "Sin presentación " + slideTitle;

    } else if (slideTitle == "machineLearning") {
      iframeSlide = `<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vSoS0OV76FtWb0vLh43sukVnWSbWQPeHSpFek1qm684rxg5O_YuQKTvFJLyHDX2uHbe9AuDaKnUHIN_/embed?start=false&loop=false&delayms=10000" 
      frameborder="0" width="100%" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>`;
    } else if (slideTitle == "gcpArchitecting") {
      iframeSlide = `<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vQFAD1RB9b1OcPsobZWiTRjcoFr7mUor74M5z-glTE_PVt3L5rux011MO2Bq0kt6xCdKB0-S8U9G5n-/embed?start=false&loop=false&delayms=5000" 
      frameborder="0" width="100%" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>`;
    } else if (slideTitle = "dataProjects") {
      iframeSlide = `<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vTz4jh8CC-Vf-lEScZvSXibYB3q7zMn980fGCyZRQZAV9rRKB6ZqNYENPj_lTTRHWaf5hQ4tNdhOPAC/embed?start=false&loop=false&delayms=10000" frameborder="0" 
      width="100%" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>`
    }

    openModal(iframeSlide)
  }


  // function openProject() {
  //   alert("Necesitas un código para la función completa,  agrega un código");
  // }

  function grantAccess(event) {
    console.log("Validando accesos")
    if (!!event == false || event.keyCode == 13) {
      console.log("Buscando la contraseña");
      pass = document.getElementById("permission").value;

      if (pass == "Hola1234") {
        let grantedForm = document.getElementById("grantedForm");
        grantedForm.style.display = "none";
        alert("Se concede el acceso a las presentaciones de los proyectos");
        sessionStorage.setItem('isGrantedAcessCV', true);
      } else {
        alert("Para desbloquear los privilegios por favor envíe un correo a jordan.figu@gmail.com, explicando el interés en mi perfil");
      }
    }
  }

  function validateAccess() {

    console.log(" validandoo accesoss")


    isGrantedAcessCV = sessionStorage.getItem("isGrantedAcessCV");
    console.log("isGrantedAcessCV", isGrantedAcessCV)
    if (isGrantedAcessCV == "true") {
      console.log("Se tienen los accesos ocultando formulario");

      let grantedForm = document.getElementById("grantedForm");
      grantedForm.style.display = "none";
    }
  }

  function finishGranted() {
    console.log("Quitando los permisos");
    grantedForm.style.display = "block";

    isGrantedAcessCV = sessionStorage.setItem("isGrantedAcessCV", false);
  }

  validateAccess();


  $('.materialboxed').materialbox();

</script>
<div class="row">
  <div class="col s12 m12 l12" style="background-color:#ffffff;">
    <div class="animated fadeIn" style="padding-left: 15px; padding-right: 15px;">
      <h5 class="center red-text text-darken-2">Portafol<span onclick="finishGranted()">io</span> </h5>

      <h6><span class="red-text text-darken-3 "> Información de los proyectos de alto impacto de los cuales he estado a
          cargo, se requiere un código para ver los detalles, envíame un correo para más información.
        </span></h6>
      <br>
      <div id="grantedForm" style="padding-left: 15px; padding-right: 15px;">
        <div class="row">
          <div class="col s6">
            <input id="permission" type="password" placeholder="código de autorización" onkeyup="grantAccess(event)">
          </div>
          <div class="col s6">
            <a onclick="grantAccess()" class="waves-effect waves-light btn red darken-4 btn-small"> Autorizar </a>
          </div>
        </div>
      </div>
      <!-- Aqui Esta la lista de proyectos-->


      <div class="row">
        <div class="col s4">
          <img max-width="800px" class="materialboxed responsive-img full-padding"
            src="../img/portafolio/siniestros.png" alt="">

        </div>

        <div class="col s8">
          <h5> <a onclick="openData('machineLearning')" class="pointer">Machine Learning</a> </h5>
          <p>
            Primer proyecto de la empresa en el se utilizarón técnicas de machine learning, predice el número
            de siniestros que ocurrirán en cada estado de la ciudad, asi como la ubicación aproximada, pueden ser
            clasificados por tipo de siniestro
            como robo de auto, colisión y daños a cristales, se entrenó con los
            datos históricos de la compañía, se crearón servicios web para consultar las predicciones y un proceso para
            reentrenar los modelos semalmente,
            además una aplicación para que el usuario puede visualzar gráficas y obtener el pronostico deseado.
          </p>
        </div>

      </div>

      <div class="row">
        <div class="col s4">
          <img class="coverImg materialboxed responsive-img full-padding" src="../img/portafolio/etl.png" alt="">

        </div>
        <div class="col s8">
          <h5> <a onclick="openData('etlExpres')" class="pointer">ETL Exprés</a> </h5>

          <p>
            La empresa tiene la necesidad de mantener sus datos en el datawarehousing empresarial (Bigquery),
            con flujos automatizados y configurables donde las fuentes de datos puedan ser diversos motores como Mysql,
            Spanner o Firebase, esta potente herramienta puede ser usada por medio de servicios web para obtener los
            datos
            en tiempo real o con procesos en lotes que migran los datos cada noche.
          </p>
        </div>
      </div>


      <div class="row">
        <div class="col s4">
          <img class="coverImg materialboxed responsive-img full-padding" src="../img/portafolio/gcptable.png" alt="">

        </div>
        <div class="col s8">
          <h5> <a onclick="openData('gcpArchitecting')" class="pointer">Arquitecturas GCP</a> </h5>
          <p>
            Propuestas tecnológicas, y arquitecturas que implementé o colaboré en un equipo para realizarlas,
            desde aplicaciones montadas en google cloud
            hasta procesos de reentrenamiento continuo de machine learning.
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col s4">
          <img max-width="800px" class="materialboxed responsive-img full-padding" src="../img/portafolio/memoria.png"
            alt="">

        </div>
        <div class="col s8">
          <h5> <a onclick="openData('memoriaInstitucional')" class="pointer">Memoria Institucional</a> </h5>
          <p>
            Aplicación para guardar archivos, similar a google drive, pero diseñada especialmente para complir las
            necesidades
            y reglas de negocio de la empresa,
            como accesos, indexación de archivos en la base de datos, agregación de metadata.
          </p>
        </div>
      </div>





      <div class="row">
        <div class="col s4">
          <img max-width="800px" class="materialboxed responsive-img full-padding"
            src="../img/portafolio/mapaSiniestros.png" alt="">
        </div>
        <div class="col s8">
          <h5> <a onclick="openData('unityAutos')" class="pointer">Unity 3D Autos</a> </h5>
          <p>
            Tablero en tiempo real y en 3D, que muestra los movimientos de los ajustadores de seguros,
            así como sus diferentes estados, se ven reflejados también los siniestros en tiempo real,
            cuenta con predicciones de rutas y cálculos de tiempos de llegada.
          </p>
        </div>
      </div>


      <div class="row">
        <div class="col s4">
          <img max-width="800px" class="materialboxed responsive-img full-padding"
            src="../img/portafolio/datastudio.png" alt="">
        </div>
        <div class="col s8">
          <h5> <a onclick="openData('miselanea')" class="pointer">Miselanea</a> </h5>
          <p>
            * Tableros
            * Limpieza de datos
            * Creación de queries
            * Corrección de aplicaciones
          </p>
        </div>
      </div>





    </div>

  </div>
</div>


<script>

  function openModal(htmlDescription) {
    $("#content-modal").html(htmlDescription);
    $('#globalModal').modal('open');
  }


  function openData(slideTitle) {

    isGrantedAcessCV = sessionStorage.getItem("isGrantedAcessCV");
    console.log("isGrantedAcessCV", isGrantedAcessCV)

    if (isGrantedAcessCV == "true") {
      console.log("Ya tengo acceso");
    } else {

      console.log("No tengo acceso al proyecto");
      alert("Requiere un código para autorizar la información del proyecto");
      return;
    }

    let iframeSlide = null;
    if (slideTitle == "etlExpres") {
      iframeSlide = `<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vTXwO1amP1wLTNSeiZuCw_5sDTc8UMMs1T80nooACMo-8fdJ7R6NnfwUO-3sAGgG0kpf_ssSjakTFUv/embed?start=false&loop=false&delayms=3000"
        frameborder="0" width="100%" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>`;

    } else if (slideTitle == "unityAutos") {
      iframeSlide = "Sin Presentación" + slideTitle;

    } else if (slideTitle == "memoriaInstitucional") {
      iframeSlide = "Sin Presentación " + slideTitle;

    } else if (slideTitle == "machineLearning") {
      iframeSlide = `<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vSoS0OV76FtWb0vLh43sukVnWSbWQPeHSpFek1qm684rxg5O_YuQKTvFJLyHDX2uHbe9AuDaKnUHIN_/embed?start=false&loop=false&delayms=10000" 
      frameborder="0" width="100%" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>`;
    } else if (slideTitle == "gcpArchitecting") {
      iframeSlide = `<iframe src="https://docs.google.com/presentation/d/e/2PACX-1vQFAD1RB9b1OcPsobZWiTRjcoFr7mUor74M5z-glTE_PVt3L5rux011MO2Bq0kt6xCdKB0-S8U9G5n-/embed?start=false&loop=false&delayms=5000" 
      frameborder="0" width="960" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>`;
    }

    openModal(iframeSlide)
  }


  // function openProject() {
  //   alert("Necesitas un código para la función completa,  agrega un código");
  // }

  function grantAccess(event) {
    console.log("Validando accesos")
    if (!!event == false || event.keyCode == 13) {
      console.log("Buscando la contraseña");
      pass = document.getElementById("permission").value;

      if (pass == "Hola1234") {
        let grantedForm = document.getElementById("grantedForm");
        grantedForm.style.display = "none";
        alert("Se concede el acceso a las presentaciones de los proyectos");
        sessionStorage.setItem('isGrantedAcessCV', true);
      } else {
        alert("Para desbloquear los privilegios por favor envíe un correo a jordan.figu@gmail.com, explicando el interés en mi perfil");
      }
    }
  }

  function validateAccess() {

    console.log(" validandoo accesoss")


    isGrantedAcessCV = sessionStorage.getItem("isGrantedAcessCV");
    console.log("isGrantedAcessCV", isGrantedAcessCV)
    if (isGrantedAcessCV == "true") {
      console.log("Se tienen los accesos ocultando formulario");

      let grantedForm = document.getElementById("grantedForm");
      grantedForm.style.display = "none";
    }
  }

  function finishGranted() {
    console.log("Quitando los permisos");
    grantedForm.style.display = "block";

    isGrantedAcessCV = sessionStorage.setItem("isGrantedAcessCV", false);
  }

  validateAccess();


  $('.materialboxed').materialbox();

</script>